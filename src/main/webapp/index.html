<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <meta name="description" content="A fully featured admin theme which can be used to build CRM, CMS, etc.">
        <meta name="author" content="Coderthemes">
        <link rel="shortcut icon" href="assets/images/favicon.ico">

        <title>Locadora de Automóveis</title>

        <link href="plugins/switchery/switchery.min.css" rel="stylesheet" />

        <link href="assets/css/custom.css" rel="stylesheet" type="text/css">
        <link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="assets/css/icons.css" rel="stylesheet" type="text/css">
        <link href="assets/css/style_dark.css" rel="stylesheet" type="text/css">



        <script src="assets/js/modernizr.min.js"></script>

    </head>
    <body>

        <div class="wrapper-page">

            <div class="text-center">
                <a href="index.html" class="logo-lg"><i class="mdi mdi-radar"></i>  </a> <span class="title">Locadora de Automóveis</span>
            </div>

            <form class="form-horizontal m-t-20" action="index.html">

                <div class="form-group row">
                    <div class="col-12">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="mdi mdi-account"></i></span>
                            </div>
                            <input class="form-control" type="text" id="usuario" required="" placeholder="Email">
                        </div>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-12">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="mdi mdi-key"></i></span>
                            </div>
                            <input class="form-control" type="password" id="password" required="" placeholder="Senha">
                        </div>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-12">
                        <div class="checkbox checkbox-primary">
                            <input id="checkbox-signup" type="checkbox">
                            <label for="checkbox-signup">
                                Manter-me Logado
                            </label>
                        </div>

                    </div>
                </div>

                <div class="form-group text-right m-t-20">
                    <div class="col-xs-12">
                        <button class="btn btn-primary btn-custom w-md waves-effect waves-light" type="submit" id="entrar">Entrar
                        </button>
                    </div>
                </div>

                <div class="form-group row m-t-30">
                    <div class="col-sm-7">
                        <a href="pages-recoverpw.html" class="text-muted"><i class="fa fa-lock m-r-5"></i> Esqueceu sua senha?</a>
                    </div>
                    <div class="col-sm-5 text-right">
                        <a href="pages-register.html" class="text-muted">Criar uma conta</a>
                    </div>
                </div>
            </form>
        </div>

        <script>
            
            var resizefunc = [];
            $('#usuario').focusout(function () {
                $.ajax({
                    'url': 'aluguel-automoveis',
                    'type': 'POST',
                    data: {
                        'usuario': $('#usuario').val()
                    },
                    success: function () {
                        location.href = 'dashboard.jsp';
                    },
                    error: function () {
                        JOptionPane.showMessageDialog('warning', 'Usuario incorreto!');
                    }
                });
            });
            
            $('#password').focusout(function () {
                $.ajax({
                    'url': 'aluguel-automoveis',
                    'type': 'POST',
                    data: {
                        'senha': $('#password').val()
                    },
                    success: function () {
                        location.href = 'dashboard.jsp';
                    },
                    error: function () {
                        JOptionPane.showMessageDialog('warning', 'Senha Incorreta!');
                    }
                });
            });
            
            $('#entrar').click(function () {
                if (validarFormulario()) {
                    $.ajax({
                        'url': 'aluguel-automoveis/entrar',
                        'type': 'POST',
                        'data': {
                            'usuario': $('#usuario').val(),
                            'senha': $('#password').val(),
                            
                        },
                        success: function () {

                            JOptionPane.showMessageDialog('success', 'Bem vindo!');
                            $('#usuario').val('');
                            $('#password').val('');

                        },
                        error: function () {
                            JOptionPane.showMessageDialog('error', 'Ocorreu um erro ao logar no sistema!');
                        }
                    });
                }
            });
            JOptionPane = {
                showMessageDialog: function (type, message) {
                    var title;
                    switch (type) {
                        case 'error':
                            title = 'Ops!';
                            break;
                        case 'warning':
                            title = 'Atenção';
                            break;
                        case 'success':
                            title = 'Sucesso';
                            break;
                        default:
                            title = 'Aguarde';
                            break;
                    }
                }
            };
            function validarFormulario() {
                if ($('#usuario').val() === '') {
                    JOptionPane.showMessageDialog('warning', 'Digite um usuario!');
                    return false;
                }

                if ($('#password').val() === '') {
                    JOptionPane.showMessageDialog('warning', 'Digite uma senha!');
                    return false;
                }

                return true;
            }


        </script>

        <!-- Plugins  -->
        <script src="assets/js/jquery.min.js"></script>
        <script src="assets/js/popper.min.js"></script><!-- Popper for Bootstrap -->
        <script src="assets/js/bootstrap.min.js"></script>
        <script src="assets/js/detect.js"></script>
        <script src="assets/js/fastclick.js"></script>
        <script src="assets/js/jquery.slimscroll.js"></script>
        <script src="assets/js/jquery.blockUI.js"></script>
        <script src="assets/js/waves.js"></script>
        <script src="assets/js/wow.min.js"></script>
        <script src="assets/js/jquery.nicescroll.js"></script>
        <script src="assets/js/jquery.scrollTo.min.js"></script>
        <script src="plugins/switchery/switchery.min.js"></script>

        <!-- Custom main Js -->
        <script src="assets/js/jquery.core.js"></script>
        <script src="assets/js/jquery.app.js"></script>

    </body>
</html>